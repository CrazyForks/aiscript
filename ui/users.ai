page Users {
    tabs {
        "All Users" => table.Users,
        "Paid Users" => table.Users(paid=true),
        "Blocked Users" => table.Users(is_active=true),
    }

    "Create User" => popup.CreateUser,
}

popup CreateUser {
    form {
        name: str
        email: str
        age: int
        
        "Cancel" => cancel,
        "Create" => @post("/users"),
    }
}

popup UpdateUser {
    args {
        id: int
    }

    form {
        name: str
        email: str
        age: int
        
        "Cancel" => cancel,
        "Create" => @put("/users/:id"),
    }
}


@permission("admin")
popup DeleteUser {
    args {
        id: int
    }

    content {
        ![](https://test.com/image.png)
        "Are you sure to delete this user?"
    }

    "Cancel" => cancel,
    "Delete" => @delete("/users/:id"),
}

@get("/users")
@paginate(size=10, infinite=true)
table Users {
    args {
        paid: bool
        is_active: bool = true
    }

    @filter(["name"])
    @sort(["name"])
    column {
        id: int
        name: str
        @permission("admin")
        email: str
        age: int
        is_paid: bool
        created_at: str
    }

    action {
        "Edit" => popup.UpdateUser(id),
        "Delete" => popup.DeleteUser(id),
    }
}